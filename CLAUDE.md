# CLAUDE.md

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã§ã‚³ãƒ¼ãƒ‰ã‚’æ‰±ã†éš›ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## é–‹ç™ºæŒ‡é‡

### ğŸ› ï¸ æŠ€è¡“å®Ÿè£…æŒ‡é‡

- **è¨­è¨ˆãƒ»å®Ÿè£…ã¯è¤‡é›‘ã«ã›ãšã«ã€ã‚·ãƒ³ãƒ—ãƒ«ã•ã®æ¥µé™ã‚’è¿½æ±‚ã—ã¦ãã ã•ã„**
- **ãŸã ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã¨é–‹ç™ºè€…ä½“é¨“ã®å“è³ªã¯æ±ºã—ã¦å¦¥å”ã—ãªã„**
- å®Ÿè£…ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã€é–‹ç™ºè€…ä½“é¨“ã¯æœ€é«˜å“è³ªã«
- CLIæ“ä½œã®ç›´æ„Ÿæ€§ã¨åŠ¹ç‡æ€§ã‚’æŠ€è¡“çš„è¤‡é›‘ã•ã‚ˆã‚Šå„ªå…ˆ

### ğŸ“ è¨­è¨ˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- è¨­è¨ˆã«é–¢ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¯ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã‹ãªã„ã“ã¨

## é–‹ç™ºå“è³ª

### å®Œäº†æ¡ä»¶

- ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã‚‹çŠ¶æ…‹ã§å®Œäº†ã¨ã—ãªã„ã“ã¨ã€‚å¿…ãšã‚¨ãƒ©ãƒ¼ãŒè§£æ¶ˆã•ã‚ŒãŸæ™‚ç‚¹ã§å®Œäº†ã¨ã™ã‚‹ã€‚

## é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### åŸºæœ¬ãƒ«ãƒ¼ãƒ«

- ä½œæ¥­ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ã‚’å®Œäº†ã—ãŸã‚‰ã€å¤‰æ›´ç‚¹ã‚’æ—¥æœ¬èªã§ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã«è¿½åŠ ã—ã¦ã€ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥ã‚’å¿…ãšè¡Œã†
- ä½œæ¥­ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ã¯ã€æœ€å¤§é™ã®ä¸¦åˆ—åŒ–ã‚’ã—ã¦é€²ã‚ã‚‹
- ä½œæ¥­ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ã¯ã€æœ€å¤§é™ã®ç´°åˆ†åŒ–ã‚’ã—ã¦ToDoã«ç™»éŒ²ã™ã‚‹
- ä½œæ¥­ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ã®é–‹å§‹å‰ã«ã¯ã€å¿…ãšToDoã‚’ç™»éŒ²ã—ãŸå¾Œã«ä½œæ¥­ã‚’é–‹å§‹ã™ã‚‹
- ä½œæ¥­ï¼ˆã‚¿ã‚¹ã‚¯ï¼‰ã¯ã€å¿–åº¦ãªã—ã§é€²ã‚ã‚‹

### Specé§†å‹•é–‹ç™ºãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

æ–°æ©Ÿèƒ½ã®é–‹ç™ºã¯ã€ä»¥ä¸‹ã®3ã‚¹ãƒ†ãƒƒãƒ—ã§é€²ã‚ã¾ã™ï¼š

1. **`/speckit.specify`**: æ©Ÿèƒ½ä»•æ§˜æ›¸ã‚’ä½œæˆ (`specs/SPEC-[UUID8æ¡]/spec.md`)
   - ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’å®šç¾©
   - ã€Œä½•ã‚’ã€ã€Œãªãœã€ã«ç„¦ç‚¹ã‚’å½“ã¦ã‚‹ï¼ˆã€Œã©ã®ã‚ˆã†ã«ã€ã¯å«ã‚ãªã„ï¼‰
   - SPECãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€featureãƒ–ãƒ©ãƒ³ãƒã€Worktreeã‚’è‡ªå‹•ä½œæˆ
   - ä½œæ¥­ã¯`.worktrees/SPEC-xxx/`å†…ã§å®Ÿæ–½

2. **`/speckit.plan`**: å®Ÿè£…è¨ˆç”»ã‚’ä½œæˆ (`specs/SPEC-[UUID8æ¡]/plan.md`)
   - æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’è¨­è¨ˆ
   - æ†²ç« ãƒã‚§ãƒƒã‚¯ï¼ˆTDD/LLMæœ€é©åŒ–/ã‚·ãƒ³ãƒ—ãƒ«ã•ã®åŸå‰‡ï¼‰
   - Phase 0: æŠ€è¡“ãƒªã‚µãƒ¼ãƒ (`research.md`)
   - Phase 1: è¨­è¨ˆã¨ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆ (`data-model.md`, `contracts/`, `quickstart.md`)
   - Phase 2: ã‚¿ã‚¹ã‚¯è¨ˆç”» (`tasks.md`)

3. **`/speckit.tasks`**: å®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯ã«åˆ†è§£ (`specs/SPEC-[UUID8æ¡]/tasks.md`)
   - Setup/Test/Core/Integration/Polishã«åˆ†é¡
   - ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½ãªã‚¿ã‚¹ã‚¯ã«`[P]`ãƒãƒ¼ã‚¯ä»˜ä¸
   - ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºåŒ–

#### Specå‘½åè¦å‰‡

- **å½¢å¼**: `SPEC-[UUID8æ¡]`
- **UUIDç”Ÿæˆ**: ãƒ©ãƒ³ãƒ€ãƒ ãªè‹±æ•°å­—ï¼ˆå°æ–‡å­—ï¼‰8æ¡
  - âœ… æ­£ã—ã„ä¾‹: `SPEC-a1b2c3d4`, `SPEC-3f8e9d2a`, `SPEC-7c4b1e5f`
  - âŒ é–“é•ã„ä¾‹: `SPEC-001`, `SPEC-gameobj`, `SPEC-core-001`
- **ç¦æ­¢äº‹é …**:
  - é€£ç•ªã®ä½¿ç”¨ï¼ˆ001, 002...ï¼‰
  - æ„å‘³ã®ã‚ã‚‹åå‰ï¼ˆgameobj, core, ui...ï¼‰
  - å¤§æ–‡å­—ã®ä½¿ç”¨ï¼ˆUUIDéƒ¨åˆ†ã¯å°æ–‡å­—ã®ã¿ï¼‰
- **ç”Ÿæˆæ–¹æ³•**: `uuidgen | tr '[:upper:]' '[:lower:]' | cut -c1-8` ã¾ãŸã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³UUIDç”Ÿæˆãƒ„ãƒ¼ãƒ«

#### Worktreeï¼†ãƒ–ãƒ©ãƒ³ãƒé‹ç”¨ï¼ˆå¿…é ˆï¼‰

**ã™ã¹ã¦ã®SPECé–‹ç™ºã¯Worktreeã§ä¸¦è¡Œä½œæ¥­**

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯**Git Worktree**ã‚’ä½¿ç”¨ã—ãŸä¸¦è¡Œé–‹ç™ºãƒ•ãƒ­ãƒ¼ã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚å„SPECã¯ç‹¬ç«‹ã—ãŸWorktreeã§ä½œæ¥­ã—ã€å®Œäº†å¾Œã«mainãƒ–ãƒ©ãƒ³ãƒã¸ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ã‚¸ã—ã¾ã™ï¼ˆ**PRä¸è¦**ï¼‰ã€‚

**ãƒ–ãƒ©ãƒ³ãƒå‘½åè¦å‰‡**:

- **å½¢å¼**: `feature/SPEC-[UUID8æ¡]`
- **ä¾‹**: `feature/SPEC-a1b2c3d4`, `feature/SPEC-3f8e9d2a`
- å„SPECã«å¯¾ã—ã¦1ã¤ã®featureãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ
- mainãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰æ´¾ç”Ÿ

**Worktreeé…ç½®**:

- **å ´æ‰€**: `.worktrees/SPEC-[UUID8æ¡]/`
- **ä¾‹**: `.worktrees/SPEC-a1b2c3d4/`
- Gitç®¡ç†å¤–ï¼ˆ`.gitignore`ç™»éŒ²æ¸ˆã¿ï¼‰
- å„Worktreeã¯å®Œå…¨ãªä½œæ¥­ãƒ„ãƒªãƒ¼ã‚’æŒã¤

**æ–°è¦SPECä½œæˆãƒ•ãƒ­ãƒ¼**:

1. `/speckit.specify` ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
   - SPECãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆï¼ˆ`specs/SPEC-xxx/`ï¼‰
   - featureãƒ–ãƒ©ãƒ³ãƒä½œæˆï¼ˆ`feature/SPEC-xxx`ï¼‰
   - Worktreeä½œæˆï¼ˆ`.worktrees/SPEC-xxx/`ï¼‰
   - åˆæœŸãƒ•ã‚¡ã‚¤ãƒ«ç”Ÿæˆï¼ˆ`spec.md`ï¼‰

2. Worktreeã«ç§»å‹•ã—ã¦ä½œæ¥­é–‹å§‹:
   ```bash
   cd .worktrees/SPEC-a1b2c3d4/
   ```

3. ç‹¬ç«‹ã—ã¦é–‹ç™ºä½œæ¥­ã‚’å®Ÿè¡Œ:
   - TDDã‚µã‚¤ã‚¯ãƒ«å³å®ˆ
   - å„å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ
   - ä»–ã®SPECã¨å®Œå…¨ã«ç‹¬ç«‹

**ä½œæ¥­å®Œäº†ãƒ•ãƒ­ãƒ¼**:

1. Worktreeå†…ã§æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆå®Œäº†ã‚’ç¢ºèª
2. finish-featureã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ:
   ```bash
   .specify/scripts/bash/finish-feature.sh
   ```

3. è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†:
   - mainãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆ
   - `--no-ff`ã§ãƒãƒ¼ã‚¸ï¼ˆå±¥æ­´ä¿æŒï¼‰
   - Worktreeå‰Šé™¤
   - featureãƒ–ãƒ©ãƒ³ãƒå‰Šé™¤
   - ãƒªãƒ¢ãƒ¼ãƒˆã«push

**æ—¢å­˜SPECç§»è¡Œ**:

æ—¢å­˜ã®16å€‹ã®SPECã¯æ—¢ã«Worktreeç§»è¡Œæ¸ˆã¿ã€‚å„SPECã¯ä»¥ä¸‹ã§ç¢ºèª:

```bash
# å…¨Worktreeä¸€è¦§
git worktree list

# å…¨featureãƒ–ãƒ©ãƒ³ãƒä¸€è¦§
git branch | grep "feature/SPEC-"

# ç‰¹å®šSPECã§ä½œæ¥­é–‹å§‹
cd .worktrees/SPEC-0d5d84f9/
```

**é‡è¦ãªæ³¨æ„äº‹é …**:

- **mainãƒ–ãƒ©ãƒ³ãƒã§ç›´æ¥SPECä½œæ¥­ç¦æ­¢**: å¿…ãšWorktreeã‚’ä½¿ç”¨
- **PRä½œæˆä¸è¦**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒãƒ¼ã‚¸ã§å®Œçµ
- **ä¸¦è¡Œé–‹ç™ºæ¨å¥¨**: è¤‡æ•°ã®SPECã‚’åŒæ™‚ã«ç•°ãªã‚‹Worktreeã§ä½œæ¥­å¯èƒ½
- **Worktreeé–“ã®ç‹¬ç«‹æ€§**: å„Worktreeã¯å®Œå…¨ã«ç‹¬ç«‹ï¼ˆç›¸äº’å¹²æ¸‰ãªã—ï¼‰
- **ã‚³ãƒŸãƒƒãƒˆ**: Worktreeå†…ã§ã®ã‚³ãƒŸãƒƒãƒˆã¯featureãƒ–ãƒ©ãƒ³ãƒã«è¨˜éŒ²ã•ã‚Œã‚‹

**ã‚¹ã‚¯ãƒªãƒ—ãƒˆ**:

- `.specify/scripts/bash/create-new-feature.sh`: æ–°è¦SPECï¼†Worktreeä½œæˆ
- `.specify/scripts/bash/finish-feature.sh`: å®Œäº†ã—ãŸSPECã‚’mainã«ãƒãƒ¼ã‚¸
- `.specify/scripts/bash/migrate-specs-to-worktrees.sh`: æ—¢å­˜SPECä¸€æ‹¬ç§»è¡Œ

### TDDéµå®ˆï¼ˆå¦¥å”ä¸å¯ï¼‰

**çµ¶å¯¾éµå®ˆäº‹é …:**

- **Red-Green-Refactorã‚µã‚¤ã‚¯ãƒ«å¿…é ˆ**:
  1. **RED**: ãƒ†ã‚¹ãƒˆã‚’æ›¸ã â†’ ãƒ†ã‚¹ãƒˆå¤±æ•—ã‚’ç¢ºèª
  2. **GREEN**: æœ€å°é™ã®å®Ÿè£…ã§ãƒ†ã‚¹ãƒˆåˆæ ¼
  3. **REFACTOR**: ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

- **ç¦æ­¢äº‹é …**:
  - ãƒ†ã‚¹ãƒˆãªã—ã§ã®å®Ÿè£…
  - REDãƒ•ã‚§ãƒ¼ã‚ºã®ã‚¹ã‚­ãƒƒãƒ—ï¼ˆãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã›ãšã«å®Ÿè£…ï¼‰
  - å®Ÿè£…å¾Œã®ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã‚ˆã‚Šå¾Œã®ã‚³ãƒŸãƒƒãƒˆã«ãªã‚‹ï¼‰

- **Git commitã®é †åº**:
  - ãƒ†ã‚¹ãƒˆã‚³ãƒŸãƒƒãƒˆãŒå®Ÿè£…ã‚³ãƒŸãƒƒãƒˆã‚ˆã‚Šå…ˆã«è¨˜éŒ²ã•ã‚Œã‚‹å¿…è¦ãŒã‚ã‚‹
  - ä¾‹: `feat(test): Fooã®ãƒ†ã‚¹ãƒˆè¿½åŠ ` â†’ `feat: Fooå®Ÿè£…`

- **ãƒ†ã‚¹ãƒˆã‚«ãƒ†ã‚´ãƒªã¨é †åº**:
  1. Contract tests (çµ±åˆãƒ†ã‚¹ãƒˆ) â†’ API/ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
  2. Integration tests â†’ ã‚¯ãƒªãƒ†ã‚£ã‚«ãƒ«ãƒ‘ã‚¹100%
  3. E2E tests â†’ ä¸»è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
  4. Unit tests â†’ å€‹åˆ¥æ©Ÿèƒ½ã€80%ä»¥ä¸Šã®ã‚«ãƒãƒ¬ãƒƒã‚¸

**è©³ç´°ã¯ [`memory/constitution.md`](memory/constitution.md) ã‚’å‚ç…§**

### SDD (Spec-Driven Development) è¦ç´„

**ã™ã¹ã¦ã®æ©Ÿèƒ½é–‹ç™ºãƒ»è¦ä»¶è¿½åŠ ã¯ `/speckit.specify` ã‹ã‚‰é–‹å§‹**

**æ–°è¦æ©Ÿèƒ½é–‹ç™ºãƒ•ãƒ­ãƒ¼**:

1. `/speckit.specify` - ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚’å®šç¾©ï¼ˆæŠ€è¡“è©³ç´°ãªã—ï¼‰
   - è‡ªå‹•çš„ã«featureãƒ–ãƒ©ãƒ³ãƒï¼†Worktreeä½œæˆ
   - `.worktrees/SPEC-xxx/`ã«ç§»å‹•ã—ã¦ä½œæ¥­é–‹å§‹
2. `/speckit.plan` - æŠ€è¡“è¨­è¨ˆã‚’ä½œæˆï¼ˆæ†²ç« ãƒã‚§ãƒƒã‚¯å¿…é ˆï¼‰
   - Worktreeå†…ã§å®Ÿè¡Œ
3. `/speckit.tasks` - å®Ÿè¡Œå¯èƒ½ã‚¿ã‚¹ã‚¯ã«åˆ†è§£
   - å®Ÿè£…å®Ÿè¡Œã¯ `/speckit.implement` ã§è£œåŠ©çš„ã«åˆ©ç”¨å¯èƒ½
   - Worktreeå†…ã§å®Ÿè¡Œ
4. ã‚¿ã‚¹ã‚¯å®Ÿè¡Œï¼ˆTDDã‚µã‚¤ã‚¯ãƒ«å³å®ˆï¼‰
   - Worktreeå†…ã§ç‹¬ç«‹ã—ã¦ä½œæ¥­
   - å„å¤‰æ›´ã‚’featureãƒ–ãƒ©ãƒ³ãƒã«ã‚³ãƒŸãƒƒãƒˆ
5. å®Œäº†å¾Œã€`finish-feature.sh`ã§mainã«ãƒãƒ¼ã‚¸ï¼†Worktreeå‰Šé™¤

**æ—¢å­˜æ©Ÿèƒ½ã®SpecåŒ–ãƒ•ãƒ­ãƒ¼**:

1. å¯¾å¿œã™ã‚‹Worktreeã«ç§»å‹•: `cd .worktrees/SPEC-xxx/`
2. `/speckit.specify` - å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ã®ãƒ“ã‚¸ãƒã‚¹è¦ä»¶ã‚’æ–‡æ›¸åŒ–
3. `/speckit.plan` - ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰æŠ€è¡“è¨­è¨ˆã‚’è¿½è¨˜
4. æ—¢å­˜å®Ÿè£…ã¨Specã®æ•´åˆæ€§ç¢ºèª
5. å®Œäº†å¾Œã€`finish-feature.sh`ã§mainã«ãƒãƒ¼ã‚¸

**Specä½œæˆåŸå‰‡**:

- ãƒ“ã‚¸ãƒã‚¹ä¾¡å€¤ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã«ç„¦ç‚¹
- ã€Œä½•ã‚’ã€ã€Œãªãœã€ã®ã¿è¨˜è¿°ï¼ˆã€Œã©ã®ã‚ˆã†ã«ã€ã¯ç¦æ­¢ï¼‰
- éæŠ€è¡“è€…ãŒç†è§£ã§ãã‚‹è¨€è‘‰ã§è¨˜è¿°
- ãƒ†ã‚¹ãƒˆå¯èƒ½ã§æ›–æ˜§ã•ã®ãªã„è¦ä»¶

**æ†²ç« æº–æ‹ **:

- ã™ã¹ã¦ã®å®Ÿè£…ã¯ [`memory/constitution.md`](memory/constitution.md) ã«æº–æ‹ 
- TDDã€ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€LLMæœ€é©åŒ–ã¯å¦¥å”ä¸å¯

## ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- å›ç­”ã¯å¿…ãšæ—¥æœ¬èª

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†

- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯README.md/README.ja.mdã«é›†ç´„ã™ã‚‹

### Assetsé…ä¸‹ã®æ‰±ã„ï¼ˆã‚µãƒ³ãƒ—ãƒ«/Unityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå´ï¼‰

- ç›®çš„: ã‚µãƒ³ãƒ—ãƒ«ãƒ»æ¤œè¨¼ãƒ»ãƒ‡ãƒ¢ãƒ»æ‰‹å‹•å‹•ä½œç¢ºèªç”¨ã®ã‚·ãƒ¼ãƒ³/ãƒ—ãƒ¬ãƒãƒ–/è£œåŠ©ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’é…ç½®ã€‚
- ç¦æ­¢: unity-mcp-server å®Ÿè£…æœ¬ä½“ï¼ˆãƒ©ãƒ³ã‚¿ã‚¤ãƒ /ã‚¨ãƒ‡ã‚£ã‚¿æ‹¡å¼µã®ä¸»è¦ã‚³ãƒ¼ãƒ‰ï¼‰ã‚’ç½®ã‹ãªã„ã€‚UPMé…å¸ƒã®å¯¾è±¡ã«ã‚‚å«ã‚ãªã„ã€‚
- ç·¨é›†: å¿…è¦æœ€å°é™ã«ç•™ã‚ã‚‹ã€‚C#ç·¨é›†ã¯å¤–éƒ¨CLIã§è¡Œã„ã€Assetså´ã¯å‚ç…§/è¨­å®šã®ã¿ã§æˆç«‹ã•ã›ã‚‹ã€‚

### C#ã‚¹ã‚¯ãƒªãƒ—ãƒˆç·¨é›†ãƒ„ãƒ¼ãƒ«ã®ä½¿ã„åˆ†ã‘

#### `script_edit_snippet`: è»½é‡ã‚¹ãƒ‹ãƒšãƒƒãƒˆç·¨é›†ï¼ˆ1ã€œ2è¡Œã€80æ–‡å­—ä»¥å†…ï¼‰

**ç”¨é€”**:
- nullã‚¬ãƒ¼ãƒ‰å‰Šé™¤
- æ¡ä»¶å¼ã®å¾®ä¿®æ­£ï¼ˆ`if (x > 10)` â†’ `if (x > 20)`ï¼‰
- returnç›´å‰ã®ãƒ­ã‚°æŒ¿å…¥
- çŸ­ã„æ–‡ã®è¿½åŠ ãƒ»å‰Šé™¤

**å¿…é ˆæ¡ä»¶**:
- ã‚¢ãƒ³ã‚«ãƒ¼æ–‡å­—åˆ—ã‚’å³å¯†ã«æŒ‡å®šï¼ˆå‰å¾Œã®ç©ºç™½ãƒ»æ”¹è¡Œã‚’å«ã‚€æ­£ç¢ºãªä¸€è‡´ï¼‰
- å·®åˆ†ãŒ80æ–‡å­—ä»¥å†…
- ã‚¢ãƒ³ã‚«ãƒ¼ãŒä¸€æ„ï¼ˆè¤‡æ•°ãƒãƒƒãƒã¯ã‚¨ãƒ©ãƒ¼ï¼‰
- 1å›ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§æœ€å¤§10ç®‡æ‰€ã¾ã§

**ä½¿ç”¨ä¾‹**:

```javascript
// ã‚¬ãƒ¼ãƒ‰å‰Šé™¤
{
  "path": "Assets/Scripts/Player.cs",
  "instructions": [
    {
      "operation": "delete",
      "anchor": {
        "type": "text",
        "target": "        if (health == null) return;\n"
      }
    }
  ]
}

// æ¡ä»¶å¼å¤‰æ›´
{
  "path": "Assets/Scripts/Enemy.cs",
  "instructions": [
    {
      "operation": "replace",
      "anchor": {
        "type": "text",
        "target": "if (distance < 5.0f)"
      },
      "newText": "if (distance < 10.0f)"
    }
  ]
}

// ãƒ­ã‚°æŒ¿å…¥ï¼ˆafterï¼‰
{
  "path": "Assets/Scripts/GameManager.cs",
  "instructions": [
    {
      "operation": "insert",
      "anchor": {
        "type": "text",
        "target": "        Initialize();\n"
      },
      "newText": "        Debug.Log(\"Initialized\");\n"
    }
  ]
}

// ãƒ­ã‚°æŒ¿å…¥ï¼ˆbeforeï¼‰
{
  "path": "Assets/Scripts/GameManager.cs",
  "instructions": [
    {
      "operation": "insert",
      "anchor": {
        "type": "text",
        "target": "        Process();\n",
        "position": "before"
      },
      "newText": "        Validate();\n"
    }
  ]
}
```

#### `script_edit_structured`: æ§‹é€ åŒ–ç·¨é›†ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰æœ¬ä½“ã€ã‚¯ãƒ©ã‚¹ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ ï¼‰

**ç”¨é€”**:
- ãƒ¡ã‚½ãƒƒãƒ‰æœ¬ä½“ã®å·®ã—æ›¿ãˆ
- ã‚¯ãƒ©ã‚¹ãƒ¬ãƒ™ãƒ«ã®ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ 
- åå‰ç©ºé–“ã¸ã®è¦ç´ è¿½åŠ 

**åˆ¶ç´„**:
- insertç³»ã¯ã‚¯ãƒ©ã‚¹/åå‰ç©ºé–“ã®ã¿ã‚’å¯¾è±¡
- `replace_body` ã¯ãƒ–ãƒ¬ãƒ¼ã‚¹ã‚’å«ã‚€è‡ªå·±å®Œçµãƒœãƒ‡ã‚£
- namePathï¼ˆ`Outer/Nested/Member`ï¼‰ã§å¯¾è±¡ã‚’ç‰¹å®š

**ä½¿ç”¨ä¾‹**:

```javascript
// ãƒ¡ã‚½ãƒƒãƒ‰æœ¬ä½“ç½®æ›
{
  "path": "Assets/Scripts/Foo.cs",
  "namePath": "Foo/Execute",
  "operation": "replace_body",
  "newText": "{\n    DoSomething();\n    DoAnother();\n}"
}

// ã‚¯ãƒ©ã‚¹ãƒ¡ãƒ³ãƒãƒ¼è¿½åŠ 
{
  "path": "Assets/Scripts/Bar.cs",
  "namePath": "Bar",
  "operation": "insert_after",
  "newText": "private int _count;\n"
}
```

#### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`preview=true`ï¼‰

**æ¨å¥¨ä½¿ç”¨ã‚¿ã‚¤ãƒŸãƒ³ã‚°**:
- åˆå›é©ç”¨æ™‚
- è¤‡é›‘ãªç·¨é›†ï¼ˆ5ç®‡æ‰€ä»¥ä¸Šã®ãƒãƒƒãƒç·¨é›†ï¼‰
- ä¸ç¢ºå®Ÿãªã‚¢ãƒ³ã‚«ãƒ¼

**å‹•ä½œ**:
- ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿ãªã—
- LSPæ§‹æ–‡æ¤œè¨¼å®Ÿè¡Œ
- ç·¨é›†å¾Œãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚­ã‚¹ãƒˆè¿”å´

#### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼**:

1. **`anchor_not_unique`**: è¤‡æ•°ç®‡æ‰€ã«ãƒãƒƒãƒ
   - **è§£æ±ºç­–**: ã‚¢ãƒ³ã‚«ãƒ¼æ–‡å­—åˆ—ã‚’ã‚ˆã‚Šå…·ä½“çš„ã«ï¼ˆå‰å¾Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚ã‚‹ï¼‰

2. **`anchor_not_found`**: ã‚¢ãƒ³ã‚«ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„
   - **è§£æ±ºç­–**: ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’ç¢ºèªã—ã€ç©ºç™½ãƒ»æ”¹è¡Œã‚’æ­£ç¢ºã«ã‚³ãƒ”ãƒ¼

3. **`diff exceeds 80 characters`**: å·®åˆ†ãŒ80æ–‡å­—è¶…
   - **è§£æ±ºç­–**: `script_edit_structured` ã«åˆ‡ã‚Šæ›¿ãˆ

4. **æ§‹æ–‡ã‚¨ãƒ©ãƒ¼**: LSPè¨ºæ–­ã§æ‹¬å¼§ä¸æ•´åˆæ¤œå‡º
   - **è§£æ±ºç­–**: ç·¨é›†ã¯ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã‚‹ã€‚ã‚¢ãƒ³ã‚«ãƒ¼ã¾ãŸã¯ newText ã‚’ä¿®æ­£

#### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

**Q: ã‚¢ãƒ³ã‚«ãƒ¼ãŒè¦‹ã¤ã‹ã‚‰ãªã„**
- A: `script_read` ã§ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã‚’ç¢ºèªã—ã€ç©ºç™½ãƒ»æ”¹è¡Œã‚’å«ã‚€æ­£ç¢ºãªæ–‡å­—åˆ—ã‚’ã‚³ãƒ”ãƒ¼

**Q: è¤‡æ•°ç®‡æ‰€ã«ãƒãƒƒãƒã—ã¦ã—ã¾ã†**
- A: ã‚¢ãƒ³ã‚«ãƒ¼ã«å‰å¾Œæ•°è¡Œã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚ã¦ä¸€æ„ã«ã™ã‚‹

**Q: 80æ–‡å­—åˆ¶é™ã«å¼•ã£ã‹ã‹ã‚‹**
- A: `script_edit_structured` ã§ replace_body ã‚’ä½¿ç”¨

**Q: ç·¨é›†ãŒåæ˜ ã•ã‚Œãªã„**
- A: `preview=false` ã§ apply ãƒ¢ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ã‚‹ã‹ç¢ºèª

**Q: æ§‹æ–‡ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹**
- A: `preview=true` ã§äº‹å‰ç¢ºèªã€‚LSPè¨ºæ–­çµæœã‚’ç¢ºèªã—ã¦ã‹ã‚‰ä¿®æ­£

#### ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

1. **ã‚¢ãƒ³ã‚«ãƒ¼æ–‡å­—åˆ—ã®æŒ‡å®š**:
   - ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆï¼ˆç©ºç™½ãƒ»ã‚¿ãƒ–ï¼‰ã‚’æ­£ç¢ºã«å«ã‚ã‚‹
   - æ”¹è¡Œæ–‡å­—ï¼ˆ`\n`ï¼‰ã‚’æ˜ç¤ºçš„ã«å«ã‚ã‚‹
   - ä¸€æ„æ€§ã‚’ç¢ºä¿ã™ã‚‹ãŸã‚å‰å¾Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å«ã‚ã‚‹

2. **ãƒãƒƒãƒç·¨é›†**:
   - é †åºã‚’æ„è­˜ï¼ˆä¸Šã‹ã‚‰ä¸‹ã¸é©ç”¨ã•ã‚Œã‚‹ãŸã‚ã€å¾Œã®ç·¨é›†ãŒå…ˆã®ç·¨é›†ã«å½±éŸ¿ã™ã‚‹ï¼‰
   - æœ€å¤§10ç®‡æ‰€ã¾ã§ã€ãã‚Œä»¥ä¸Šã¯è¤‡æ•°ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«åˆ†å‰²

3. **æ¤œè¨¼**:
   - åˆå›ã¯ `preview=true` ã§ç¢ºèª
   - LSPè¨ºæ–­ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Œã°é©ç”¨ã—ãªã„
   - é©ç”¨å¾Œã¯ Unity Editor ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’ç¢ºèª

## ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

### npm versionã‚³ãƒãƒ³ãƒ‰ã®ä½¿ç”¨

ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—ã¯å¿…ãš`npm version`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ï¼š

- **ãƒ‘ãƒƒãƒãƒãƒ¼ã‚¸ãƒ§ãƒ³**: `npm version patch` (ä¾‹: 2.9.0 â†’ 2.9.1)
- **ãƒã‚¤ãƒŠãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: `npm version minor` (ä¾‹: 2.9.0 â†’ 2.10.0)
- **ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: `npm version major` (ä¾‹: 2.9.0 â†’ 3.0.0)

**é‡è¦**: package.jsonã‚’ç›´æ¥ç·¨é›†ã—ã¦ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´ã¯ç¦æ­¢

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¢ãƒƒãƒ—æ‰‹é †

1. å¤‰æ›´å†…å®¹ã«å¿œã˜ã¦é©åˆ‡ãªãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ã‚’é¸æŠ
2. mcp-serverãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§: `npm version [patch|minor|major]`
3. Unity packageã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚‚åŒæœŸã—ã¦æ›´æ–°ï¼ˆunity-mcp-server/package.jsonï¼‰
4. git commit & push
5. npm publish

## ã‚³ãƒ¼ãƒ‰ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã¯markdownlintã§ã‚¨ãƒ©ãƒ¼åŠã³è­¦å‘ŠãŒãªã„çŠ¶æ…‹ã«ã™ã‚‹
- ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã¯commitlintã«å¯¾å¿œã™ã‚‹

## é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚’ç„¡è¦–ã—ã¦ã€æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã°ã‹ã‚Šä½œæˆã™ã‚‹ã®ã¯ç¦æ­¢ã€‚æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ”¹ä¿®ã™ã‚‹ã“ã¨ã‚’å„ªå…ˆã™ã‚‹ã€‚

## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

- README.mdã«ã¯è¨­è¨ˆãªã©ã¯æ›¸ã„ã¦ã¯ã„ã‘ãªã„ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®èª¬æ˜ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆãªã©ã®èª¬æ˜ã®ã¿ã«å¾¹åº•ã™ã‚‹ã€‚è¨­è¨ˆãªã©ã¯ã€é©åˆ‡ãªãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒªãƒ³ã‚¯ã‚’æ›¸ãã€‚

---

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆãƒªãƒã‚¸ãƒˆãƒªå…¨ä½“ï¼‰

æœ¬ãƒªãƒã‚¸ãƒˆãƒªã¯ã€Œãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ï¼ˆãƒªãƒã‚¸ãƒˆãƒªï¼‰ãƒ«ãƒ¼ãƒˆã€ã‚’åŸºç‚¹ã¨ã—ã¦ã€Unityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»Nodeè£½MCPã‚µãƒ¼ãƒãƒ»C# LSP ã‚’åŒå±…ã•ã›ã¦ã„ã¾ã™ã€‚ãƒ‘ã‚¹ã¯å¸¸ã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆåŸºæº–ã§è§£æ±ºã—ã¾ã™ã€‚

- ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆ
  - å®šç¾©: ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆCodexç­‰ï¼‰ãŒã€Œèµ·å‹•ã—ãŸãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€ã€‚
  - è¨­å®š: `./.unity/config.json` ã® `project.root` ã« Unity ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›¸å¯¾/çµ¶å¯¾ãƒ‘ã‚¹ã‚’è¨˜è¼‰ã€‚
  - Nodeå´ã¯èµ·å‹•æ™‚ã«ã“ã®è¨­å®šã‚’èª­ã¿ã€ä»¥å¾Œã€Œå›ºå®šã® WORKSPACE_ROOTã€ã¨ã—ã¦ä¿æŒã—ã€Unityã¸ã®å…¨ã‚³ãƒãƒ³ãƒ‰ã« `workspaceRoot` ã‚’åŒæ¢±ã—ã¾ã™ï¼ˆ`process.cwd()`ã®å¤‰å‹•ã«ã¯ä¾å­˜ã—ãªã„ï¼‰ã€‚

- `.unity/`
  - `config.json`: ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®è¨­å®šã€‚ç‰¹ã« `project.root` ã¯ Unity ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã‚’æŒ‡ã™ï¼ˆç›¸å¯¾ãªã‚‰ `.unity` ã®1éšå±¤ä¸Šã‚’åŸºæº–ï¼‰ã€‚
  - `capture/`: ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ»å‹•ç”»ã®å›ºå®šä¿å­˜å…ˆã€‚ä¸€æ™‚æˆæœç‰©ã¨ã—ã¦Gitç®¡ç†å¤–ï¼ˆ`.gitignore` æ¸ˆï¼‰ã€‚

- `UnityMCPServer/`ï¼ˆUnityãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼‰
  - `Packages/unity-mcp-server/**`ï¼ˆUPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ å®Ÿè£…æœ¬ä½“ï¼ã‚½ãƒ¼ã‚¹ãƒ»ã‚ªãƒ–ãƒ»ãƒˆã‚¥ãƒ«ãƒ¼ã‚¹ï¼‰
  - `Assets/**` ã¯ã‚µãƒ³ãƒ—ãƒ«/æ¤œè¨¼ç”¨é€”ï¼ˆå®Ÿè£…æœ¬ä½“ã‚’ç½®ã‹ãªã„ï¼‰
  - `Library/PackageCache/**` ã¯è‡ªå‹•ç”Ÿæˆï¼ˆç·¨é›†ç¦æ­¢ï¼‰
  - ã‚¨ãƒ‡ã‚£ã‚¿æ‹¡å¼µã®ã‚¹ã‚¯ã‚·ãƒ§/å‹•ç”»ãƒãƒ³ãƒ‰ãƒ©:
    - `Editor/Handlers/ScreenshotHandler.cs`:
      - ä¿å­˜å…ˆã¯å¸¸ã« `<workspace>/.unity/capture/screenshot_<mode>_<timestamp>.png`
      - Nodeã‹ã‚‰å—ã‘å–ã‚‹ `workspaceRoot` ã‚’å„ªå…ˆã€‚æœªå—é ˜æ™‚ã®ã¿ `.unity/config.json` ã‚’ç”¨ã„ã¦ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯è§£æ±ºã€‚
    - `Editor/Handlers/VideoCaptureHandler.cs`:
      - Unity Recorderï¼ˆå¿…é ˆä¾å­˜ï¼‰ã§ mp4/webm ã¸éŒ²ç”»ã€‚
      - ä¿å­˜å…ˆã¯å¸¸ã« `<workspace>/.unity/capture/recording_<mode>_<timestamp>.(mp4|webm)`ã€‚
      - Nodeã‹ã‚‰å—ã‘å–ã‚‹ `workspaceRoot` ã‚’å„ªå…ˆæ¡ç”¨ã€‚

- `mcp-server/`ï¼ˆNodeè£½ MCP ã‚µãƒ¼ãƒï¼‰
  - `src/core/config.js`:
    - èµ·å‹•æ™‚ã« `./.unity/config.json` ã‚’èª­ã¿è¾¼ã¿ã€`WORKSPACE_ROOT` ã‚’ç¢ºå®šãƒ»å›ºå®šï¼ˆ`process.cwd()`å¤‰å‹•éä¾å­˜ï¼‰ã€‚
  - ãƒãƒ³ãƒ‰ãƒ©ç™»éŒ²: `src/handlers/index.js`
  - ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ: `src/handlers/screenshot/CaptureScreenshotToolHandler.js`
    - Unityã‚³ãƒãƒ³ãƒ‰ `capture_screenshot` ã« `workspaceRoot` ã‚’å¸¸æ™‚ä»˜ä¸ã€‚
  - å‹•ç”»: `src/handlers/video/`ï¼ˆ`VideoCaptureStart/Stop/Status/For`ï¼‰
    - `capture_video_start` / `capture_video_for` ã§ `workspaceRoot` ã‚’å¸¸æ™‚ä»˜ä¸ã€‚
    - `capture_video_for` ã¯ã€ŒNç§’éŒ²ç”»â†’è‡ªå‹•åœæ­¢ã€ã‚’ä¸€æ‹¬å®Ÿè¡Œã€‚

- `csharp-lsp/`ï¼ˆå¤–éƒ¨ Roslyn Workspace CLIï¼‰
  - ç›®çš„: `.sln/.csproj` ã‚’ MSBuildWorkspace ã§ãƒ­ãƒ¼ãƒ‰ã—ã€`find_symbol`/`find_referencing_symbols`/`replace_symbol_body`/`insert_{before,after}` ã‚’å®‰å…¨ã«æä¾›ã€‚
  - å®Ÿè¡Œ: MCPã‚µãƒ¼ãƒï¼ˆNodeï¼‰ã‹ã‚‰CLIã‚’å‘¼ã³å‡ºã—ã€Unityã¨ã¯ç›´æ¥é€šä¿¡ã—ãªã„ã€‚
  - æˆæœç‰©: è‡ªå·±å®Œçµãƒã‚¤ãƒŠãƒªã¯ `.tools/csharp-lsp/<rid>/` é…ä¸‹ï¼ˆGitç®¡ç†å¤–æ¨å¥¨ï¼‰ã€‚

### ãƒ‘ã‚¹è§£æ±ºãƒãƒªã‚·ãƒ¼ï¼ˆçµ±ä¸€ï¼‰
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ/å‹•ç”»ã®å‡ºåŠ›å…ˆã¯å¸¸ã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆå›ºå®šã® `./.unity/capture/`ã€‚
- Nodeå´ãŒ `WORKSPACE_ROOT` ã‚’æ±ºå®šã—ã€å…¨Unityã‚³ãƒãƒ³ãƒ‰ã« `workspaceRoot` ã‚’ä»˜ä¸ã€‚
- Unityå´ã¯ `workspaceRoot` ã‚’å„ªå…ˆæ¡ç”¨ã—ã€æœªå—é ˜æ™‚ã®ã¿ `.unity/config.json` ã® `project.root` ã«ã‚ˆã‚‹ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã§ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’æ¢ç´¢ã€‚
- `process.cwd()` å¤‰åŒ–ãƒ»ç’°å¢ƒå¤‰æ•°ã«ã¯ä¾å­˜ã—ãªã„ã€‚

### Git ç®¡ç†
- `/.unity/capture/` ã¯ `.gitignore` ã«ç™»éŒ²ï¼ˆä¸€æ™‚æˆæœç‰©ã®ä¿è­·ï¼‰ã€‚
- `Library/PackageCache/**` ã¯ç·¨é›†ç¦æ­¢ï¼ˆç”Ÿæˆç‰©ï¼‰ã€‚
