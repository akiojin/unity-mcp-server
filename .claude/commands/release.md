---
description: LLMãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ã€‚developãƒ–ãƒ©ãƒ³ãƒã§å®Ÿè¡Œã—ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã€ã‚¿ã‚°ä½œæˆã€developâ†’mainã¸ã®PRä½œæˆã‚’å®Ÿè¡Œã€‚
---

# /release ã‚³ãƒãƒ³ãƒ‰

LLMãƒ™ãƒ¼ã‚¹ã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚**developãƒ–ãƒ©ãƒ³ãƒã§ã®ã¿å®Ÿè¡Œå¯èƒ½**ã§ã™ã€‚

## å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯

ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„:

1. **developãƒ–ãƒ©ãƒ³ãƒã§ã‚ã‚‹ã“ã¨**: `develop`ä»¥å¤–ã®ãƒ–ãƒ©ãƒ³ãƒã§ã¯å®Ÿè¡Œä¸å¯
2. **ã‚¯ãƒªãƒ¼ãƒ³ãªçŠ¶æ…‹**: ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒãªã„ã“ã¨
3. **ãƒªãƒ¢ãƒ¼ãƒˆåŒæœŸ**: developãƒ–ãƒ©ãƒ³ãƒãŒãƒªãƒ¢ãƒ¼ãƒˆã¨åŒæœŸã—ã¦ã„ã‚‹ã“ã¨

```bash
# ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ç¢ºèª
CURRENT_BRANCH=$(git branch --show-current)

# developãƒ–ãƒ©ãƒ³ãƒã‹ãƒã‚§ãƒƒã‚¯
if [ "$CURRENT_BRANCH" != "develop" ]; then
  echo "âŒ ã‚¨ãƒ©ãƒ¼: /release ã‚³ãƒãƒ³ãƒ‰ã¯ develop ãƒ–ãƒ©ãƒ³ãƒã§ã®ã¿å®Ÿè¡Œå¯èƒ½ã§ã™"
  echo "ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ: $CURRENT_BRANCH"
  echo ""
  echo "ä»¥ä¸‹ã®æ‰‹é †ã§developãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•ã—ã¦ãã ã•ã„:"
  echo "  git checkout develop"
  exit 1
fi

# ãƒ¯ãƒ¼ã‚­ãƒ³ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®çŠ¶æ…‹ã‚’ç¢ºèª
git status --porcelain

# ã‚¿ã‚°ã‚’å–å¾—
git fetch --tags origin
```

developãƒ–ãƒ©ãƒ³ãƒã§ãªã„å ´åˆã€ã¾ãŸã¯æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒã‚ã‚‹å ´åˆã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã—ã¦ä¸­æ­¢ã—ã¦ãã ã•ã„ã€‚

## Phase 1: å¤‰æ›´åˆ†æ

æœ€æ–°ã®ã‚¿ã‚°ã‹ã‚‰ç¾åœ¨ã®HEADã¾ã§ã®å¤‰æ›´ã‚’åˆ†æã—ã¾ã™ã€‚

```bash
# æœ€æ–°ã‚¿ã‚°ã‚’å–å¾—
git describe --tags --abbrev=0 2>/dev/null || echo "v0.0.0"

# ã‚¿ã‚°ã‹ã‚‰ã®å¤‰æ›´å±¥æ­´ã‚’å–å¾—
git log $(git describe --tags --abbrev=0 2>/dev/null || echo "v0.0.0")..HEAD --oneline

# å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ±è¨ˆ
git diff $(git describe --tags --abbrev=0 2>/dev/null || echo "v0.0.0")..HEAD --stat
```

### å¤‰æ›´ã‚µãƒãƒªãƒ¼ã®ç”Ÿæˆ

ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã‚’åˆ†æã—ã€ä»¥ä¸‹ã®å½¢å¼ã§æ—¥æœ¬èªã®ã‚µãƒãƒªãƒ¼ã‚’ç”Ÿæˆ:

```markdown
## å¤‰æ›´ã‚µãƒãƒªãƒ¼

### æ–°æ©Ÿèƒ½
- [feat: xxx] ã®èª¬æ˜

### ãƒã‚°ä¿®æ­£
- [fix: xxx] ã®èª¬æ˜

### æ”¹å–„
- [perf: xxx] ã®èª¬æ˜

### ãã®ä»–
- [chore: xxx] ã®èª¬æ˜
```

## Phase 2: ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¤å®š

ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†æã—ã¦semverã‚’æ±ºå®š:

| æ¤œå‡ºå†…å®¹ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¤‰æ›´ | ç”¨é€” |
|---------|--------------|------|
| `BREAKING CHANGE:` ã¾ãŸã¯ `feat!:` | major (X.0.0) | ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ç ´å£Šçš„å¤‰æ›´ |
| `feat:` | minor (x.Y.0) | **ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ–°æ©Ÿèƒ½ã®ã¿** |
| `fix:`, `perf:` | patch (x.y.Z) | ãƒã‚°ä¿®æ­£ã€æ€§èƒ½æ”¹å–„ |
| `chore:`, `refactor:`, `ci:`, `build:`, `docs:`, `test:` | ãªã— | å†…éƒ¨çš„ãªå¤‰æ›´ |

### ã‚³ãƒŸãƒƒãƒˆã‚¿ã‚¤ãƒ—ã®ä½¿ã„åˆ†ã‘ï¼ˆé‡è¦ï¼‰

**`feat:` ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ–°æ©Ÿèƒ½ã®ã¿**ã«ä½¿ç”¨ã€‚å†…éƒ¨çš„ãªå¤‰æ›´ã«ã¯é©åˆ‡ãªã‚¿ã‚¤ãƒ—ã‚’ä½¿ã†:

| å¤‰æ›´å†…å®¹ | æ­£ã—ã„ã‚¿ã‚¤ãƒ— | èª¤ã£ãŸã‚¿ã‚¤ãƒ— |
|---------|------------|------------|
| /releaseã‚³ãƒãƒ³ãƒ‰æ”¹å–„ | `chore(release):` | ~~`feat(release):`~~ |
| ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ§‹é€ å¤‰æ›´ | `refactor(plugin):` | ~~`feat(plugin):`~~ |
| CI/Dockerè¨­å®š | `ci:` / `chore(docker):` | ~~`feat(ci):`~~ |
| ä¾å­˜é–¢ä¿‚æ›´æ–° | `chore(deps):` | ~~`feat(deps):`~~ |
| ãƒ†ã‚¹ãƒˆè¿½åŠ  | `test:` | ~~`feat(test):`~~ |
| ã‚¹ã‚­ãƒ«è¨­å®šå¤‰æ›´ | `chore(skill):` | ~~`feat(skill):`~~ |

### ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ–°æ©Ÿèƒ½ã®ä¾‹ï¼ˆ`feat:` ã‚’ä½¿ç”¨ï¼‰

- `feat(mcp-server): add new tool handler`
- `feat(unity): add scene analysis feature`
- `feat(api): add pagination support`
- `feat: add video capture support`

ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ `mcp-server/package.json` ã‹ã‚‰å–å¾—ã—ã¾ã™ã€‚

## Phase 3: ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ä»¥ä¸‹ã®å½¢å¼ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã€ç¢ºèªã‚’æ±‚ã‚ã¾ã™:

```
ğŸ“¦ ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ç¾åœ¨: vX.Y.Z â†’ æ¬¡: vA.B.C (major/minor/patch)

## å¤‰æ›´ã‚µãƒãƒªãƒ¼
[Phase 1ã§ç”Ÿæˆã—ãŸã‚µãƒãƒªãƒ¼]

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

AskUserQuestion ã‚’ä½¿ç”¨ã—ã¦ä»¥ä¸‹ã®é¸æŠè‚¢ã‚’æç¤º:

- **ç¶šè¡Œ**: ã“ã®ã¾ã¾ãƒªãƒªãƒ¼ã‚¹ã‚’å®Ÿè¡Œ
- **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç·¨é›†**: ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’æ‰‹å‹•ã§æŒ‡å®š
- **ä¸­æ­¢**: ãƒªãƒªãƒ¼ã‚¹ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«

ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ç·¨é›†ã€ãŒé¸æŠã•ã‚ŒãŸå ´åˆã¯ã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã‚’å…¥åŠ›ã—ã¦ã‚‚ã‚‰ã„ã¾ã™ã€‚

## Phase 4: ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°

ç¢ºèªå¾Œã€ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°:

```bash
# ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
node scripts/release/update-versions.mjs <new-version>
```

### CHANGELOG.md ã®æ›´æ–°

CHANGELOG.md ã®å…ˆé ­ã«æ–°ã—ã„ãƒªãƒªãƒ¼ã‚¹ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ :

```markdown
## [X.Y.Z](https://github.com/akiojin/unity-mcp-server/compare/vPREV...vX.Y.Z) (YYYY-MM-DD)

### Features
- [å¤‰æ›´ã‚µãƒãƒªãƒ¼ã‹ã‚‰]

### Bug Fixes
- [å¤‰æ›´ã‚µãƒãƒªãƒ¼ã‹ã‚‰]
```

## Phase 5: ã‚³ãƒŸãƒƒãƒˆãƒ»ã‚¿ã‚°ãƒ»PRä½œæˆ

```bash
# å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add mcp-server/package.json UnityMCPServer/Packages/unity-mcp-server/package.json CHANGELOG.md

# ãƒªãƒªãƒ¼ã‚¹ã‚³ãƒŸãƒƒãƒˆ
git commit -m "chore(release): vX.Y.Z

Release version X.Y.Z

Co-Authored-By: Claude <noreply@anthropic.com>"

# ã‚¿ã‚°ä½œæˆ
git tag -a vX.Y.Z -m "vX.Y.Z"

# developãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆã‚¿ã‚°å«ã‚€ï¼‰
git push origin develop --tags

# PRä½œæˆ (develop â†’ main)
gh pr create --base main --head develop --title "chore(release): vX.Y.Z" --body "$(cat <<'EOF'
## Release vX.Y.Z

[å¤‰æ›´ã‚µãƒãƒªãƒ¼ã‚’æŒ¿å…¥]

---
ğŸ¤– Generated with [Claude Code](https://claude.com/claude-code)
EOF
)"
```

**é‡è¦**: PRã¯å¿…ãš `develop â†’ main` ã§ä½œæˆã—ã¾ã™ã€‚featureãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰ç›´æ¥mainã¸ã®PRã¯ç¦æ­¢ã§ã™ã€‚

## Phase 6: å®Œäº†é€šçŸ¥

```
âœ… ãƒªãƒªãƒ¼ã‚¹PRä½œæˆå®Œäº†
PR: https://github.com/akiojin/unity-mcp-server/pull/XXX

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
1. PRã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ãƒãƒ¼ã‚¸
2. mainã¸ã®ãƒãƒ¼ã‚¸ã§publish.ymlãŒè‡ªå‹•å®Ÿè¡Œ
3. npm publishã€GitHub Releaseã€csharp-lspãƒ“ãƒ«ãƒ‰ãŒè‡ªå‹•å®Ÿè¡Œ
```

## ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒã‚ã‚‹å ´åˆ

```
âŒ ã‚¨ãƒ©ãƒ¼: æœªã‚³ãƒŸãƒƒãƒˆã®å¤‰æ›´ãŒã‚ã‚Šã¾ã™

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å¤‰æ›´ãŒã‚ã‚Šã¾ã™:
[å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§]

å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆã¾ãŸã¯ã‚¹ã‚¿ãƒƒã‚·ãƒ¥ã—ã¦ã‹ã‚‰å†å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
```

### ãƒªãƒªãƒ¼ã‚¹å¯¾è±¡ã®ã‚³ãƒŸãƒƒãƒˆãŒãªã„å ´åˆ

```
â„¹ï¸ ãƒªãƒªãƒ¼ã‚¹å¯¾è±¡ã®ã‚³ãƒŸãƒƒãƒˆãŒã‚ã‚Šã¾ã›ã‚“

æœ€æ–°ã‚¿ã‚° vX.Y.Z ä»¥é™ã€feat: ã‚„ fix: ãªã©ã®ãƒªãƒªãƒ¼ã‚¹å¯¾è±¡ã‚³ãƒŸãƒƒãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚
```

### developãƒ–ãƒ©ãƒ³ãƒã§ãªã„å ´åˆ

```
âŒ ã‚¨ãƒ©ãƒ¼: /release ã‚³ãƒãƒ³ãƒ‰ã¯ develop ãƒ–ãƒ©ãƒ³ãƒã§ã®ã¿å®Ÿè¡Œå¯èƒ½ã§ã™

ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒ: feature/xxx

ä»¥ä¸‹ã®æ‰‹é †ã§developãƒ–ãƒ©ãƒ³ãƒã«ç§»å‹•ã—ã¦ãã ã•ã„:
1. featureãƒ–ãƒ©ãƒ³ãƒã®å¤‰æ›´ã‚’developã«ãƒãƒ¼ã‚¸ï¼ˆPRã‚’ä½œæˆã—ã¦ãƒãƒ¼ã‚¸ï¼‰
2. developãƒ–ãƒ©ãƒ³ãƒã«åˆ‡ã‚Šæ›¿ãˆ: git checkout develop
3. /release ã‚³ãƒãƒ³ãƒ‰ã‚’å†å®Ÿè¡Œ
```

## æ³¨æ„äº‹é …

- **developãƒ–ãƒ©ãƒ³ãƒã§ã®ã¿å®Ÿè¡Œå¯èƒ½**ã§ã™
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã¯semverã«å¾“ã„ã¾ã™
- CHANGELOG.mdã¯è‡ªå‹•æ›´æ–°ã•ã‚Œã¾ã™
- PRãƒãƒ¼ã‚¸å¾Œã€publish.ymlãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™

## ãƒªãƒªãƒ¼ã‚¹ãƒ•ãƒ­ãƒ¼å…¨ä½“åƒ

```
feature â†’ develop â†’ main + tag
   â”‚         â”‚         â”‚
   â”‚         â”‚         â””â”€â”€ publish.ymlãŒè‡ªå‹•å®Ÿè¡Œ
   â”‚         â”‚              - GitHub Releaseä½œæˆ
   â”‚         â”‚              - npm publish
   â”‚         â”‚              - csharp-lspãƒ“ãƒ«ãƒ‰
   â”‚         â”‚
   â”‚         â””â”€â”€ /release ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
   â”‚              - ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–°
   â”‚              - ã‚¿ã‚°ä½œæˆ
   â”‚              - developâ†’main PRä½œæˆ
   â”‚
   â””â”€â”€ featureãƒ–ãƒ©ãƒ³ãƒã‹ã‚‰developã¸PR
        - gh pr create --base develop
```
