
指定された機能の実装方法を計画します。

これはSpec駆動開発ライフサイクルの2番目のステップです。

引数として提供された実装詳細に基づいて、以下を実行します:

1. リポジトリルートから `scripts/setup-plan.sh --json` を実行し、FEATURE_SPEC、IMPL_PLAN、SPECS_DIRのJSONを解析します。ブランチ関連フィールドは期待または要求しません。/specifyから既にspecパスがわかっている場合は、ブランチの仮定を避けるために `--spec <SPEC_FILE>` を渡します。今後のすべてのファイルパスは絶対パスである必要があります。
2. 機能仕様を読んで分析し、以下を理解します:
   - 機能要件とユーザーストーリー
   - 機能要件と非機能要件
   - 成功基準と受け入れ基準
   - 言及されている技術的制約または依存関係

3. `/memory/constitution.md` の憲章を読んで、憲章要件を理解します。

4. 実装計画テンプレートを実行します:
   - `/templates/plan-template.md` を読み込み (既にIMPL_PLANパスにコピー済み)
   - 入力パスをFEATURE_SPECに設定
   - 実行フロー (main) 関数のステップ1-10を実行
   - テンプレートは自己完結型で実行可能
   - テンプレートで指定されたエラーハンドリングとゲートチェックに従う
   - テンプレートが$SPECS_DIRでのアーティファクト生成をガイドするようにします:
     * Phase 0 は research.md を生成
     * Phase 1 は data-model.md, contracts/, quickstart.md を生成
     * Phase 2 は tasks.md を生成
   - 引数からのユーザー提供の詳細を技術コンテキストに組み込みます: $ARGUMENTS
   - 各フェーズを完了したら進捗トラッキングを更新

5. 実行完了を確認:
   - 進捗トラッキングがすべてのフェーズ完了を示しているか確認
   - 必要なすべてのアーティファクトが生成されたことを確認
   - 実行にERROR状態がないことを確認

6. ファイルパスと生成されたアーティファクトで結果を報告します(ブランチ情報なし)。

リポジトリルートを絶対パスで使用して、すべてのファイル操作でパスの問題を回避します。
