# Research: HTTP/プロキシ対応とテレメトリ透明性 (SPEC-a28f3f95)

## 決定
- HTTP リスナーは Node.js 標準 `http` で実装し、依存追加を避ける。
- ヘルスチェックは `GET /healthz`、レスポンス `{ status: "ok", mode: "http" }`、p99 応答 50ms 目標。
- ポート競合 (EADDRINUSE) 検出時は起動失敗＋代替ポート3候補をログ提示。
- テレメトリはデフォルト無効。環境変数 `UNITY_MCP_TELEMETRY=on` のときのみ送信先を明示ログし、それ以外は外向き通信ゼロを保証。

## 未解決/要確認
- テレメトリ送信を許可した場合の送信先 URL とペイロードスキーマ（現行送信が無い前提、設ける場合の仕様を要決定）。
- HTTP/stdio 同時有効化時のシグナルハンドリング（停止処理）を単一プロセスで行うか、別モジュールに分けるか。

## 参考
- Node.js `server.listen` エラーコード一覧 (EADDRINUSE) を用いた競合検出。
- セキュリティポリシー準拠: テレメトリ無効時は DNS ルックアップも発生させない。
