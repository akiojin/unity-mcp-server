# 機能仕様書: Unity接続設定の分離

**機能ID**: `SPEC-a87a5172`
**作成日**: 2025-10-17
**ステータス**: 完了
**入力**: Unity Editor と MCP サーバー間の接続設定運用

## 背景

Unity Editor 側は `localhost` で待ち受ける一方、MCP サーバーの実行環境（ローカル / Docker など）によって接続先ホストは変動する。現在は単一の設定値で両者を共用しており、環境切り替え時に接続不能が発生する。さらに「clientHost」などの用語が分かりづらく、利用者が設定に迷うケースが多い。

## 目的

- Unity の待ち受け設定（`unityHost`）と MCP サーバー側の接続先設定（`mcpHost`）を独立管理し、どの環境でも確実に接続できるようにする。
- 設定内容を直感的に理解できるようにし、誤設定を防止する。

## ユーザーストーリー

1. **Unity エディタをホストOSで起動する開発者として**、MCP サーバーをコンテナ内で動かしても `mcpHost` に分かりやすい値を設定するだけで接続したい。
2. **設定担当者として**、環境ごとに必要な値を明示的に分けて記載できるようにし、ドキュメントやサンプル設定から迷わず反映したい。

## 受け入れ条件

- Unity 側の待ち受け先（`unityHost`）と MCP サーバー側の接続先（`mcpHost`）を別々に設定できること。
- ドキュメントやサンプルで環境に応じた設定方法が分かりやすく示されていること。
- 既存利用者が設定を更新した際に、環境に応じた接続先を容易に切り替えられること。

## 非対象

- ポート番号は現状の共通利用（`port`）を維持し、動的検出などは行わない。
- Unity 側の待ち受けポート変更手順の刷新は扱わない。

## レビュー & チェックリスト

- [ ] 実装詳細を含まない
- [x] ビジネス価値を明確化
- [x] ユーザーストーリーがテスト可能
- [x] 受け入れ条件が測定可能
- [ ] 関係者レビュー完了
