---
description: 現在の要件に対して、要件品質を検証するチェックリスト（requirements writingのユニットテスト）を生成します。
---

## チェックリストの目的（重要）

チェックリストは「実装のテスト」ではなく、**要件の書き方の品質テスト**です。

- ❌ 実装テスト: 「ボタンが正しく動くか」「APIが200を返すか」
- ✅ 要件品質: 「すべての状態（空/エラー/復旧）に要件が定義されているか」「曖昧語が定量化されているか」

## ユーザー入力

```text
$ARGUMENTS
```

空でない場合、続行する前にユーザー入力を考慮する**必要があります**。

## 実行手順

1. リポジトリルートから `.specify/scripts/bash/check-prerequisites.sh --json` を実行し、`FEATURE_DIR` を取得します（絶対パス）。

2. ユーザーの意図を確認します（必要に応じて最大3問）:
   - チェック観点（例: UX / セキュリティ / 運用 / 可観測性 / 互換性）
   - 厳密さ（軽量レビュー用 / リリースゲート級）
   - 想定利用者（作者 / レビュア / QA）

3. `FEATURE_DIR` から以下を読み込みます:
   - spec.md（必須）
   - plan.md（あれば）
   - tasks.md（あれば）

4. `FEATURE_DIR/checklists/<short-name>.md` を作成します（ファイル書き込みあり）:
   - `.specify/templates/checklist-template.md` に従う
   - 連番（CHK001...）で項目を作る
   - 8割以上の項目に spec/plan/tasks の参照（例: `[Spec §要件]`）または `[Gap]` `[Ambiguity]` を付ける
   - **禁止**: 実装をテストするような項目（Verify/Test/Confirm、クリック/レンダー/実行など）
   - **推奨**: 「〜が仕様として定義されているか」「〜が定量化されているか」「セクション間で矛盾がないか」

5. 最後にユーザーへ以下を返します:
   - 作成したチェックリストのパス
   - 項目数
   - 反映した観点/厳密さ/利用者
