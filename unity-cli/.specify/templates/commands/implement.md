---
description: tasks.md に定義されたタスクを順に実行し、実装を進めます（チェックリストが未完了なら確認して停止）。
scripts:
  sh: .specify/scripts/bash/check-prerequisites.sh --json --require-tasks --include-tasks
  ps: .specify/scripts/powershell/check-prerequisites.ps1 -Json -RequireTasks -IncludeTasks
---

## ユーザー入力

```text
$ARGUMENTS
```

空でない場合、続行する前にユーザー入力を考慮する**必要があります**。

## 目的

tasks.md に定義されたタスクを順次実行し、機能を実装する。

## 実行手順

### 1. コンテキスト初期化

`{SCRIPT}` を実行し、`FEATURE_DIR` と `AVAILABLE_DOCS` を取得（パスはすべて絶対パス）。

### 2. チェックリスト検証

`FEATURE_DIR/checklists/` が存在する場合:

1. 各チェックリストファイルをスキャン
2. 未完了項目（`- [ ]`）をカウント
3. 未完了がある場合は停止して確認:
   ```
   以下のチェックリストに未完了項目があります:
   - requirements.md: 3件未完了
   - security.md: 1件未完了

   続行しますか？ (yes/no)
   ```
4. ユーザーが `no` なら中断

### 3. ドキュメント読み込み

**必須**:
- tasks.md（タスクリスト）
- plan.md（技術スタック、プロジェクト構造）

**任意**:
- data-model.md（エンティティ定義）
- contracts/（API仕様）
- research.md（技術決定）
- quickstart.md（テストシナリオ）

### 4. タスク実行

tasks.md のタスクを順次実行:

**実行ルール**:
1. フェーズ順に実行（Phase 1 → Phase 2 → ...）
2. 各フェーズ内でタスクID順に実行
3. [P]マーカーのあるタスクは並列実行可能
4. 憲章の禁止事項を尊重（TDD必須等）
5. 依存関係を確認してからタスク開始

**タスク完了時**:
1. tasks.md のチェックボックスを更新: `- [ ]` → `- [x]`
2. 変更をコミット（Conventional Commits形式）
3. 次のタスクへ進む

**エラー発生時**:
1. エラー内容を記録
2. 関連するタスクにブロッキングノートを追加
3. ユーザーに報告して次のアクションを確認

### 5. フェーズ完了チェック

各フェーズ完了時:

1. フェーズ内の全タスクが完了しているか確認
2. 独立テスト基準が満たされているか確認
3. 次のフェーズへの移行可否を報告

### 6. 完了報告

- 完了したタスクID一覧
- 残タスク一覧
- 発生した問題（あれば）
- 次の推奨アクション:
  - 残タスクがある場合: 続行を推奨
  - 全タスク完了: PRレビューまたは追加テストを推奨
  - 問題がある場合: 修正アクションを提案

## ガイドライン

- タスクは独立して実行可能であるべき
- 各タスク完了後にコミット
- TDD遵守（テスト→実装→リファクタの順）
- 憲章違反を検出した場合は中断して報告
- 大きなタスクは分割を提案
